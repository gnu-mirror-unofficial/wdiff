<html lang="en">
<head>
<title>Examples - A word difference finder</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="A word difference finder">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="start" href="index.html#Top">
<link rel="prev" href="Invoking-wdiff.html#Invoking-wdiff" title="Invoking wdiff">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<p>
<a name="Examples"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="Invoking-wdiff.html#Invoking-wdiff">Invoking wdiff</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="index.html#Top">Top</a>
<hr>
</div>

<h2 class="chapter">3 Actual examples of <code>wdiff</code> usage</h2>

<p>This section presents a few examples of usage, most of them have been
contributed by <code>wdiff</code> users.

     <ul>
<li>Change bars example.

     <p>This example comes from a discussion with Joe Wells,
`<samp><span class="samp">jbw@cs.bu.edu</span></samp>'.

     <p>The following command produces a copy of <var>new_file</var>, shifted right
one space to accommodate change bars since the last revision, ignoring
those changes coming only from paragraph refilling.  Any line with new
or changed text will get a `<samp><span class="samp">|</span></samp>' in column 1.  However, deleted text
is not shown nor marked.

     <pre class="example">          wdiff -1n <var>old_file</var> <var>new_file</var> |
            sed -e 's/^/  /;/{+/s/^ /|/;s/{+//g;s/+}//g'
     </pre>
     <p>Here is how it works.  Word differences are found, paying attention only
to additions, as requested by option `<samp><span class="samp">-1</span></samp>'.  For bigger changes
which span line boundaries, the insert bracket strings are repeated on
each output line, as requested by option `<samp><span class="samp">-n</span></samp>'.  This output is then
reformatted with a <code>sed</code> script which shifts the text right two
columns, turns the initial space into a bar only if there is some new
text on that line, then removes all insert bracket strings.

     <li><code>LaTeX</code> example.

     <p>This example has been provided by Steve Fisk,
`<samp><span class="samp">fisk@polar.bowdoin.edu</span></samp>'.

     <p>The following uses LaTeX to put deleted text in boxes, and new text
in double boxes:

     <pre class="example">          wdiff -w "\fbox{" -x "}" -y "\fbox{\fbox{" -z "}}" ...
     </pre>
     <p class="noindent">works nicely.

     <li><code>troff</code> example.

     <p>This example comes from Paul Fox, `<samp><span class="samp">pgf@cayman.com</span></samp>'.

     <p>Using <code>wdiff</code>, with some <code>troff</code>-specific delimiters gives
<em>much</em> better output.  The delimiters I used:

     <pre class="example">          wdiff -w'\s-5' -x'\s0' -y'\fB' -z'\fP' ...
     </pre>
     <p>This makes the pointsize of deletions 5 points smaller than normal, and
emboldens insertions.  Fantastic!

     <p>I experimented with:

     <pre class="example">          wdiff -w'\fI' -x'\fP' -y'\fB' -z'\fP'
     </pre>
     <p>since that's more like the defaults you use for terminals/printers, but
since I actually use italics for emphasis in my documents, I thought the
point size thing was clearer.

     <p>I tried it on code, and it works surprisingly well there, too...

     <p>Marty Leisner `<samp><span class="samp">leisner@eso.mc.xerox.com</span></samp>' says:

     <p>In the previous example, you had smaller text being taken out and bold
face inserted.  I had smaller text being taken out and larger text being
inserted, I'm using bold face for other things, so this is more clear.

     <pre class="example">          wdiff -w '\s-3' -x'\s0' -y'\s+3' -z'\s0'
     </pre>
     </ul>

</body></html>

